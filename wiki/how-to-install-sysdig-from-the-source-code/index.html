---
layout: wiki
title: Wiki | How to Install Sysdig from the Source Code
slug: wiki
wiki-title: How to Install Sysdig from the Source Code
wiki-url: https://github.com/draios/sysdig/wiki/how-to-install-sysdig-from-the-source-code
---

        <p><strong>NOTE</strong>: sysdig can be compiled under Linux, OSX and Windows, but only the Linux version is capable of capturing events and doing live analysis. On the other platforms, you will be limited to working with the capture files generated by a Linux installation of sysdig.</p>

<h2>
<a id="user-content-linux-and-osx" class="anchor" href="#linux-and-osx" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg></a>Linux and OSX</h2>

<p><strong>Requirements</strong></p>

<ul>
<li>GCC/G++ &gt; 4.4 (Linux) or Clang (for OSX)</li>
<li>Linux kernel headers</li>
<li>CMake &gt; 2.8.2</li>
<li>For Linux, the following kernel options must be enabled (usually they are, unless a custom built kernel is used):

<ul>
<li><code>CONFIG_TRACEPOINTS</code></li>
<li><code>CONFIG_HAVE_SYSCALL_TRACEPOINTS</code></li>
</ul>
</li>
</ul>

<p><strong>Installation Instructions</strong><br>
1. Download the sysdig github repository to your local machine<br>
2. From the command line, navigate to the sysdig repository on your local machine<br>
3. Run the following commands:  </p>

<pre><code>mkdir build
cd build
cmake ..
make
make install
</code></pre>

<p>This will just install sysdig and chisels, the compiled kernel module (needed for live capture and built on Linux only) will stay in <code>build/driver/sysdig-probe.ko</code> (which can be manually loaded with <code>insmod</code>).
If you want to install the driver in the current kernel modules directory, then use (as root):</p>

<pre><code>make install_driver
</code></pre>

<p><strong>Development Installation Instructions</strong><br>
<strong>Note:</strong> It is suggested to develop from within a non-critical virtualized environment<br>
1. Download the sysdig github repository to your local machine<br>
2. From the command line, navigate to the sysdig repository on your local machine<br>
3. Run the following commands to build, <strong>but do not install</strong>:  </p>

<pre><code>mkdir build
cd build
cmake ..
make
</code></pre>

<ul>
<li>Run sysdig from the following path as root {gitpath}/sysdig/build/userspace/sysdig</li>
</ul>

<p><strong>Development Kernel Module install/help</strong></p>

<ul>
<li>sysdig-probe.ko is located in {gitpath}/sysdig/driver</li>
</ul>

<pre><code># Check if the sysdig module is loaded
lsmod | grep sysdig

# Remove the sysdig kernel module
rmmod sysdig_probe

# Load the sysdig module
insmod sysdig-probe.ko
</code></pre>

<p><strong>Build options</strong></p>

<p>To manually specify the installation target directory, use:</p>

<pre><code>cmake -DCMAKE_INSTALL_PREFIX=/my/prefix ..
</code></pre>

<p>By default the <code>make</code> target will compile the kernel module as well. If you prefer to not do that (e.g. you're not interested in the live capture feature or you are making a package), then you can do:</p>

<pre><code>cmake -DBUILD_DRIVER=OFF
</code></pre>

<p>By default the bundled version of LuaJIT will be built and linked statically. If you prefer to use the system one, then you can do:</p>

<pre><code>cmake -DUSE_BUNDLED_LUAJIT=OFF ..
</code></pre>

<p>Or, if LuaJIT is installed in a non-standard path:</p>

<pre><code>cmake -DUSE_BUNDLED_LUAJIT=OFF -DLUAJIT_PREFIX=/opt/superluajit ..
</code></pre>

<p>By default the bundled version of JsonCpp will be built and linked statically. If you prefer to use the system one, then you can do:</p>

<pre><code>cmake -DUSE_BUNDLED_JSONCPP=OFF ..
</code></pre>

<p>Or, if JsonCpp is installed in a non-standard path:</p>

<pre><code>cmake -DUSE_BUNDLED_JSONCPP=OFF -DJSONCPP_PREFIX=/opt/superjson ..
</code></pre>

<p>By default the bundled version of zlib will be built and linked statically. If you prefer to use the system one, then you can do:</p>

<pre><code>cmake -DUSE_BUNDLED_ZLIB=OFF ..
</code></pre>

<p>Or, if zlib is installed in a non-standard path:</p>

<pre><code>cmake -DUSE_BUNDLED_ZLIB=OFF -DZLIB_PREFIX=/opt/superzlib ..
</code></pre>

<p>By default the bundled version of ncurses will be built and linked statically. If you prefer to use the system one, then you can do:</p>

<pre><code>cmake -DUSE_BUNDLED_NCURSES=OFF ..
</code></pre>

<p>If you plan on making changes to the sysdig code, it can be handy to compile everything in debug mode, so that assertions are enabled and can save you some time troubleshooting issues:</p>

<pre><code>cmake -DCMAKE_BUILD_TYPE=Debug ..
</code></pre>

<h2>
<a id="user-content-vagrant" class="anchor" href="#vagrant" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg></a>Vagrant</h2>

<p>This basic Vagrantfile will instantiate an Ubuntu 13.10 build environment, populating it with all necessary software requirements:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c"># -*- mode: ruby -*-</span>
<span class="pl-c"># vi: set ft=ruby :</span>

<span class="pl-c1">Vagrant</span>.configure(<span class="pl-c1">2</span>) <span class="pl-k">do </span>|<span class="pl-smi">config</span>|

  config.vm.box <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>utopic64<span class="pl-pds">"</span></span>
  config.vm.box_url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://cloud-images.ubuntu.com/vagrant/utopic/current/utopic-server-cloudimg-amd64-vagrant-disk1.box<span class="pl-pds">"</span></span>

  config.vm.provision <span class="pl-s"><span class="pl-pds">"</span>shell<span class="pl-pds">"</span></span>, <span class="pl-c1">inline:</span> <span class="pl-s"><span class="pl-pds">&lt;&lt;-SHELL</span><span class="pl-s1"></span></span>
<span class="pl-s"><span class="pl-s1">    sudo apt-get update</span></span>
<span class="pl-s"><span class="pl-s1">    sudo apt-get -y install linux-headers-<span class="pl-s"><span class="pl-pds">$(</span>uname -r<span class="pl-pds">)</span></span> cmake g++ git</span></span>
<span class="pl-s"><span class="pl-s1"></span><span class="pl-pds">  SHELL</span></span>
<span class="pl-k">end</span></pre></div>

<p>You may now proceed with 'Installation Instructions' in the Linux section above.</p>

<h2>
<a id="user-content-windows" class="anchor" href="#windows" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg></a>Windows</h2>

<p><strong>Requirements</strong></p>

<ul>
<li>Windows 7 SP1 (x86 and x64) or higher</li>
<li>Visual Studio Express 2015 for Windows Desktop (<a href="http://www.visualstudio.com/downloads/download-visual-studio-vs#d-express-windows-desktop">download page</a>)</li>
<li>cmake for Windows (<a href="http://www.cmake.org/cmake/resources/software.html">download page</a>)</li>
</ul>

<p><strong>Installation Instructions</strong><br>
1. Download the sysdig github repository to your local machine<br>
2. Open a <em>Developer Command Prompt</em> and navigate to the sysdig repository on your local machine<br>
3. Run the following below within the <em>Developer Command Prompt</em> from the sysdig root dir  </p>

<p><strong>Note:</strong> <em>Developer Command Prompt</em> normal location:  </p>

<ul>
<li>"C:\Program Files (x86)\Microsoft Visual Studio 14.0\Common7\Tools\Shortcuts"</li>
</ul>

<pre><code>cd path_to/git/sysdig/
md build
cd build
cmake -G "Visual Studio 14 Win64" ..
msbuild sysdig.sln /p:Configuration=Release
</code></pre>

<p>The previous steps compile sysdig as a 64bit executable. If you want to build a 32bit executable, replace the <code>cmake</code> command with</p>

<pre><code>cmake -G"Visual Studio 14" ..
</code></pre>

<p>If you plan on making changes to the sysdig code, it can be handy to compile everything in debug mode, so that assertions are enabled and can save you some time troubleshooting issues:</p>

<pre><code>msbuild sysdig.sln /p:Configuration=Debug
</code></pre>

<p>In addition, if you want to use the Visual Studio IDE then the following changes are suggested within settings:</p>

<ol>
<li>
<strong>Default project</strong>: Make the project <code>sysdig</code> the <em>StartUp Project</em>
</li>
<li>
<strong>Command</strong>: Change the <em>Debugging</em> / <em>Command</em> parameter to <code>$(SolutionDir)$(Configuration)\$(TargetFileName)</code>
</li>
<li>
<strong>Working Directory</strong>: Change the <em>Debugging</em> / <em>Working Directory</em> parameter to <code>$(SolutionDir)$(Configuration)\</code>
</li>
</ol>

      